services:
  netv:
    image: netv:cuda12.4
    container_name: netv
    restart: unless-stopped
    ports:
      - "8080:8080"
    environment:
      - NETV_PORT=8080
      - NETV_HTTPS=
      - LOG_LEVEL=INFO
      - NVIDIA_VISIBLE_DEVICES=all
      - NVIDIA_DRIVER_CAPABILITIES=compute,video,utility
      - LIBVA_DRIVER_NAME=iHD
      - LIBVA_DRIVERS_PATH=/usr/lib/x86_64-linux-gnu/dri
    volumes:
      - ./cache:/app/cache
      - /etc/localtime:/etc/localtime:ro
      # For HTTPS, also mount your certificates:
      # - /etc/letsencrypt:/etc/letsencrypt:ro
    devices:
      - /dev/dri:/dev/dri
    runtime: nvidia
